<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>arcTo方法解析</title>
    <style>
      body {
        background: #dddddd;
      }

      #canvas {
        margin: 20px;
        background: #ffffff;
        border: thin solid #aaaaaa;
      }
    </style>
  </head>

  <body>
    <canvas id="canvas" width="800" height="500">浏览器不支持</canvas>
    <script>
      let canvas = document.getElementById("canvas");
      let ctx = canvas.getContext("2d");
      //圆角矩形
      function roundRectangle(x, y, w, h, r = 0) {
        let roundArr = []
        if (typeof r === "number") {
            roundArr = new Array(4).fill(r);
        }
        ctx.moveTo(x + r, y);
        ctx.lineTo(x + w - r, y);
        ctx.arcTo(x + w, y, x + w, y + r, r);

        ctx.lineTo(x+w,y+h-r);
        ctx.arcTo(x+w,y+h,x+w-r,y+h,r);

        ctx.lineTo(x+r,y+h);
        ctx.arcTo(x,y+h,x,y+h-r,r);

        ctx.lineTo(x,y+r);
        ctx.arcTo(x,y,x+r,y,r)
        ctx.stroke();
      }
      roundRectangle(100, 100, 100, 100, 50);
    </script>
  </body>
</html>
